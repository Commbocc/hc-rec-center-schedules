<meta charset="utf-8" />
<title>HcRecCenterSchedules demo</title>
<script src="https://unpkg.com/vue"></script>
<script src="./HcRecCenterSchedules.umd.js"></script>
<link
  rel="stylesheet"
  href="https://www.hillsboroughcounty.org/assets/css/vendor?v=QID2bUIAtfWCxxWSwQ2j26PN-OBNmTBYAoJNGdkM9t81"
/>
<link
  rel="stylesheet"
  href="https://www.hillsboroughcounty.org/bundles/appstyles?v=kDysdqxHi3ki3eFVOYet62WpOXS5AvFmQlq4Y6wzYmo1"
/>
<link
  rel="stylesheet"
  href="https://www.hillsboroughcounty.org/library/web/css/fixes.css"
/>

<div id="app" class="container py-5">
  <details open>
    <summary>Select a Location</summary>
    <ul>
      <li v-for="location in locations" :key="location.id">
        <a href="#" @click.prevent="setActiveLocation(location.fields.GUID)">
          {{ location.fields.name }}
        </a>
      </li>
    </ul>
  </details>

  <hr />

  <div is="hc-rec-center-schedules" :key="compKey">
    There are no programs at this time.
  </div>
</div>

<script>
  Vue.use(HcRecCenterSchedules)

  new Vue({
    data: () => ({
      compKey: 0,
      locations: [],
    }),
    async mounted() {
      const { data } = await Vue.prototype.$airtable.get(`/locations`, {
        params: {
          view: 'Grid view',
        },
      })
      this.locations = data.records
    },
    methods: {
      setActiveLocation(guid) {
        this.compKey = Date.now()
        window.sitecoreItemId = guid
      },
    },
  }).$mount('#app')
</script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script
  src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
  integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
  crossorigin="anonymous"
></script>
